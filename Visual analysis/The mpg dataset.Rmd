---
title: "The mpg dataset"
author: "Christian Urcuqui"
date: "27 de febrero de 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Exploratory dataset cars

We will use the packets provided in the tidyverse project in order to analyze the mpg dataset, this source has information of 30 car models and their features, such as, engine, year and hwy.


```{r cars}
library(tidyverse)
summary(mpg)
str(mpg)

```

## Including Plots

Ggplot is a special function to make a coordinate system whose allows us to add layers. These is the general template to make diagrams through ggplot:

ggplot(data= <DATA> ) + 
  <GEOM FUNCTION> mapping = aes (<MAPPING>)
  
ggplot(data= <Dataset> ) + 
  <funcion del grafico> mapping = aes (<mapeo de las variables>)  
  
First, we will use a scatter plot to analyze what is the data dispertion of some features. 

```{r first, echo=FALSE}

  ggplot(data=mpg) + 
    geom_point(mapping = aes(x=displ, y=hwy))

```

```{r other_Data, echo=FALSE}
# So, lets explore another dataset of cars
str(mtcars)

# We will make some scatterplots in order to show the importance to use nominal values and do not use categorical features. 

ggplot (data = mpg) + geom_point(mapping =aes(x=class, y=drv))

```
## Aesthehic Mappings

So, we can add other propierties in our graphics through the application of aesthethic (aes), this property allows us to add color, size and others to our points. The next code will add color by the categories in the feature class.

```{r explore_graphics, echo=FALSE}

ggplot(data=mpg) + 
  geom_point(mapping=aes(x=displ, y=hwy, color=class))

ggplot(data=mpg) + 
  geom_point(mapping = aes(x=displ, y=hwy, size=class))

ggplot(data=mpg) + 
  geom_point(mapping = aes(x=displ, y=hwy, alpha=class))

ggplot(data=mpg) + 
  geom_point(mapping = aes(x=displ, y=hwy, shape=class))

ggplot(data=mpg) + 
  geom_point(mapping=aes(x=displ, y=hwy), color="blue")

```
## Facets

This is another tool to split your visualization window in different parts, such as, the view can be divided by a categorical variable.

```{r facets, echo=FALSE}

ggplot(data=mpg) +
  geom_point(mapping=aes(x=displ, y=hwy)) +
  facet_wrap(~ class, nrow=2)

ggplot(data=mpg) +
  geom_point(mapping=aes(x=displ, y=hwy)) +
  facet_wrap(drv ~ cyl) 

ggplot(data=mpg) +
  geom_point(mapping=aes(x=displ, y=hwy)) +
  facet_grid(. ~ cyl) 

```

Facet exercises, we will explore what happen if we use some special features and combinations. 

```{r facetsother}
#1
ggplot(data=mpg) +
  geom_point(mapping=aes(x=displ, y=hwy)) +
  facet_grid(~displ)

#2
ggplot(data=mpg) +
  geom_point(mapping=aes(x=displ, y=hwy)) +
  facet_grid(drv ~ cyl)

ggplot(data=mpg) +
  geom_point(mapping=aes(x=drv, y=cyl))
    
#3
ggplot(data=mpg) +
  geom

```


